# Version History

| Version | Changes |
| :--- | :--- |
| **Version 1.6.2** | * Fixed a bug where filepicker would show "selected" rather than the filepath and name.|
| **Version 1.6.1** | * Sidebar Context Menu: Added a "Visage" option to the right-click menu for Actors in the sidebar. This allows configuration of actors not currently on a scene.<br>* AppV2 Compatibility: Fixed compatibility with ApplicationV2 actor sheets (e.g., DnD5e). Resolved an issue where the Visage option was missing inside the window header controls.|
| **Version 1.6.0** | **ADDED VISAGE CONFIGURATION FROM ACTOR SHEET**: A new Visage button has been added to the Actor Sheet header, allowing you to configure alternate forms and dynamic rings without needing to place a token on the canvas. This is perfect for prepping NPCs or characters before a session, using the Actor's Prototype Token as the baseline for all new configurations.<br><br>* Fixed Default Data Capture: Updated visage-hud.js to correctly capture width and height for the Default Visage to prevent resizing issues.<br>* Fixed Flip Badge Logic: Updated visage-selector.js to show flip badges only when a visage's orientation differs from the default, improving clarity.<br>* Fixed New Visage Defaults: Updated visage-config.js to inherit the current token's Size and Scale when adding a new visage, rather than resetting to 1x1.|
| **Version 1.5.0** | **ADDED TOKEN DIMENSIONS**: Visage now supports changing a token's physical dimensions (width and height in grid spaces). Important: Image Scale is relative to these dimensions. Existing Visages with custom scale values should be checked, as the image scale multiplies with the new physical size leading to some very scary monsters! |
| **Version 1.4.0** | **ADDITIONAL LANGUAGE SUPPORT**: Added support for Arabic, Catalan, Chinese (Simplified and Traditional), Czech, Dutch, English (UK and US), Finnish, French, German, Hebrew, Hungarian, Italian, Japanese, Korean, Persian, Polish, Portuguese (Brazil and Portugal), Romanian, Russian, Spanish (Spain and Latin American), Swedish, Turkish, Ukrainian and Welsh using AI-generated translations for most so I apologise now for any mistakes. I am happy to update any localisation file with any corrections.<br><br>**ADDED RIGHT-TO-LEFT LANGUAGE SUPPORT**: Introduce bidirectional text support and interface mirroring. When a user selects a Right-to-Left language (like Arabic or Hebrew), the entire layout — including navigation bars, icons, and text alignment—will flip to align with the natural reading flow of that language, ensuring a localised experience.<br><br><div style="display: flex; justify-content: center; align-items: flex-start; gap: 20px;"><div style="text-align: center;"><img src="images/visage_configuration_ar.png" alt="Visage Configuration Window showing RTL support for Arabic" style="max-width: 100%; height: 250px; object-fit: contain;"></div><div style="text-align: center;"><img src="images/visage_configuration_he.png" alt="Visage Configuration Window showing RTL support for Hebrew" style="max-width: 100%; height: 250px; object-fit: contain;"></div></div><br>**ADDED ANIMATED TOKEN SUPPORT**: Full support for animated tokens. You can now apply any valid Foundry image filetype to the token and it will display correctly in the Selector HUD, including animated token art using webm format. Note that animated tokens are not compatible with Dynamic Token Rings. If you apply a dynamic ring to a token using animated art, it will render the art as a static image.<br><br><img src="images/animated_tokens.gif" alt="Visage Selector HUD showing animated tokens" height="300px" style="display: block; margin: 0 auto;"><br>|
| **Version 1.3.0** | **ADDED DYNAMIC TOKEN RINGS**: Full support for Dynamic Token Rings. You can now save specific ring configurations (Enabled/Disabled, Colors, Effects, Scale) for each visage. The Selector HUD shows any dynamic ring on the Visage, including animated effects for pulse, gradient, background wave and invisibility. |
| **Version 1.2.1** | * Improved accessibility to respect all font size changes by user.<br>* Improved UI theme to a warmer background.<br>* Added additional tooltips.<br>* Added notes to the Visage configuration window if no Visages are configured.|
| **Version 1.2.0** | * Moved module to ApplicationV2 in preparation for implementing a global Visage directory.<br>* Added data normalisation helper.<br>* Added internationalision.<br>* Updated migration script as it missed unlinked tokens.|
| **Version 1.1.1** | * Fix bug that prevented multiple Visages being created at the same time. |
| **Version 1.1.0** | * Visages can now be saved with blank Name or Image Path fields to create "partial" visages, inheriting the token's default name/image as needed.<br>* Upgraded the getForms API to accept an optional tokenId to intelligently resolve these partial visages using either token-specific defaults or (if no ID is provided) the actor's prototype token defaults. |
| **Version 1.0.8** | * Internal: Rename misleading name-key and UUID-key variables. |
| **Version 1.0.7** | * Correct manifest link (for real this time). |
| **Version 1.0.6** | * Correct manifest link. |
| **Version 1.0.5** | * Remove box-shadow on Visage Selector HUD setting icon. |
| **Version 1.0.1** | * Remove red bottom border on Visage Selector title.<br>* Allow duplicate visage names. |
| **Version 1.0.0** | **FULL RELEASE**<br>* Internal: Refactored internal data storage from name-keyed to UUID-keyed actor flags for improved data integrity.<br>* Added one time migration for beta-testers.<br>* Additional documentation improvements before public release. |
| **Version 0.5.0** | * Add feature to configure and apply token disposition (Friendly, Neutral, Hostile, Secret) with each visage, enabling disguise and illusion mechanics.<br>* Update styling for configuration window and selector HUD chip.<br>* Update documentation.<br>* Small styling changes to Visage Configuration window. |
| **Version 0.4.0** | * Internal: Significant re-write.<br>* Move the token configuration from the default token window where there was a rendering issue, to its own window, opened by clicking a setting cog in the Visage Selector HUD.<br>* Add styling to the "Save Changes" button if there are changes to be saved.<br>* Match the new config window style to the Selector HUD style.<br>* Sort Visage forms in the Selector HUD in alphabetical order with the default always first.<br>* Add shuffle icon on any visage form that uses a wildcard within its filepath to show user they can select it again for a different random pick. |
| **Version 0.3.4** | * Fix flip option for token images. |
| **Version 0.3.3** | * Fix bug when restoring scale to default (again).<br>* Fix how wildcard paths are resolved to prevent the mystery man appearing. |
| **Version 0.3.2** | * Fix bug when restoring scale to default. |
| **Version 0.3.1** | * Fix label in configuration tab. |
| **Version 0.3.0** | * Add a token image scaling feature, including option to flip the image. |
| **Version 0.2.4** | * Add module setting to remove visage data from tokens.<br>* Add star icon to default token tile in selector HUD.<br>* Add usage instructions to the README.md. |
| **Version 0.2.3** | * Internal: Under the covers code improvement.<br>* Improvements made to visage token configuration. |
| **Version 0.2.1** | * Fix issue with reading data from tokens that were not linked to actors. |
| **Version 0.2.0** | **INITIAL BETA RELEASE** |

<div class="visage-tile {{#if this.isActive}}active{{/if}}" 
        data-action="selectVisage" 
        data-form-key="{{this.key}}"
        tabindex="0" 
        role="button" 
        aria-label="{{this.label}}" 
        aria-pressed="{{this.isActive}}">

    <div class="visage-image-wrapper">
        {{> "modules/visage/templates/parts/visage-preview.hbs" 
            wrapperClass="visage-hud-content"
            hasCheckerboard=true 
            alpha=this.alpha
            resolvedPath=this.resolvedPath 
            name=this.label
            isVideo=this.isVideo                                    
            hasRing=this.meta.hasRing 
            hasInvisibility=this.meta.hasInvisibility
            hasPulse=this.meta.hasPulse
            hasGradient=this.meta.hasGradient
            hasWave=this.meta.hasWave
            ringColor=this.meta.ringColor
            ringBkg=this.meta.ringBkg
            forceFlipX=this.isFlippedX
            forceFlipY=this.isFlippedY
            
            hasLight=this.meta.hasLight
            lightColor=this.meta.lightColor
            lightAlpha=this.meta.lightAlpha
            lightDim=this.meta.lightDim
            lightBright=this.meta.lightBright
            lightSizePct=this.meta.lightSizePct
            lightBrightPct=this.meta.lightBrightPct
            lightAnimType=this.meta.lightAnimType
            lightAnimDuration=this.meta.lightAnimDuration
            lightAnimIntensity=this.meta.lightAnimIntensity
        }}
    </div>

    <span class="visage-tile-name" data-tooltip="{{this.label}}">{{this.label}}</span>
    
    {{!-- TOP RIGHT: Active State --}}
    {{#if this.isActive}}
    <div class="visage-chip" data-tooltip="{{localize 'VISAGE.Selector.Active'}}">
            <img src="modules/visage/icons/check_circle.svg" alt="{{localize 'VISAGE.Selector.Active'}}"/>
    </div>
    {{/if}}
    
    {{!-- TOP LEFT: Default --}}
    {{#if this.isDefault}}
    <div class="visage-default-indicator" data-tooltip="{{localize 'VISAGE.Selector.Default'}}">
            <img src="modules/visage/icons/stars.svg" alt="{{localize 'VISAGE.Selector.Default'}}"/>
    </div>
    {{/if}}
    
    {{!-- LEFT UPPER: Portrait --}}
    {{#if this.meta.hasPortrait}}
    <div class="visage-portrait-indicator" 
            data-tooltip="{{this.meta.portraitTooltip}}" 
            data-tooltip-class="visage-tooltip">
        <img src="modules/visage/icons/account_box.svg" alt="{{localize 'VISAGE.GlobalEditor.ActorPortrait'}}"/>
    </div>
    {{/if}}

    {{!-- LEFT MIDDLE: Effects/Light/Delay --}}
    {{#if this.meta.showEffectsBadge}}
    <div class="visage-effects-indicator" 
            data-tooltip="{{this.meta.effectsTooltip}}" 
            data-tooltip-class="visage-tooltip">
        <img src="modules/visage/icons/wand_stars.svg" alt="{{localize 'VISAGE.Editor.Tabs.Effects'}}"/>
    </div>
    {{/if}}

    {{!-- LEFT LOWER: Rotation Lock --}}
    {{#if this.meta.slots.lock.active}}
    <div class="visage-lock-indicator" data-tooltip="{{localize 'VISAGE.RotationLock.Label'}}">
        <img src="modules/visage/icons/lock_reset.svg" alt="{{localize 'VISAGE.RotationLock.Label'}}"/>
    </div>
    {{/if}}

    {{!-- BOTTOM LEFT: Wildcard --}}
    {{#if this.isWildcard}}
    <div class="visage-wildcard-indicator" data-tooltip="{{localize 'VISAGE.Selector.Wildcard'}}">
            <img src="modules/visage/icons/shuffle.svg" alt="{{localize 'VISAGE.Selector.WildcardAlt'}}"/>
    </div>
    {{/if}}

    {{!-- BOTTOM RIGHT: Flip --}}
    {{#if this.meta.showFlipBadge}}
    <div class="visage-flip-indicator" data-tooltip="{{localize 'VISAGE.Selector.Flipped'}}">
        <img src="modules/visage/icons/flip.svg" alt="{{localize 'VISAGE.Selector.Flipped'}}"/>
    </div>
    {{/if}}

    {{!-- BOTTOM CENTER: Data Chip --}}
    {{#if this.meta.showDataChip}}
    <div class="visage-data-chip">
        {{#if this.meta.slots.dim.active}}
        <span class="visage-size-value" style="font-weight: bold;">{{this.meta.slots.dim.val}}</span>
        {{/if}}
        
        {{#if this.meta.slots.scale.active}}
        <span class="visage-scale-value">{{this.meta.slots.scale.val}}</span>
        {{/if}}
    </div>
    {{/if}}

    {{!-- BOTTOM CENTER (LOWER): Disposition --}}
    {{#if this.meta.showDispositionChip}}
    <div class="visage-disposition-chip {{this.meta.slots.disposition.class}}" data-tooltip="{{this.meta.slots.disposition.val}}">
            <span>{{this.meta.slots.disposition.val}}</span>
    </div>
    {{/if}}

</div>